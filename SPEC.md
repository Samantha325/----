# 逃學大作戰 - 專案規格書

## 專案概述
這是一個純前端的 HTML5 遊戲，玩家需要在不被老師發現的情況下成功逃出教室。遊戲使用純 HTML、CSS 和 JavaScript 開發，所有外部依賴都使用 CDN 版本，以便於部署到 GitHub Pages。

## 技術棧
- HTML5
- CSS3
- JavaScript (ES6+)
- 外部依賴 (CDN):
  - SweetAlert2: 用於遊戲對話框
  - GSAP: 用於動畫效果

## 核心功能
### 已實現功能
1. 基礎遊戲機制
   - 使用方向鍵控制玩家移動
   - 老師 AI 巡邏系統
   - 碰撞檢測
   - 計時器系統（5分鐘）
   - 警戒值系統

2. 遊戲 UI
   - 開始畫面
   - 遊戲計時器顯示
   - 警戒值指示器
   - 結束遊戲對話框

3. 老師 AI 行為
   - 基礎巡邏模式
   - 發現玩家時的追趕行為
   - 視線範圍檢測

### 待開發功能
1. 遊戲增強
   - [ ] 新增音效效果
   - [ ] 新增背景音樂
   - [ ] 添加更多障礙物（桌椅、櫃子等）
   - [ ] 實現物品收集機制
   - [ ] 添加道具系統（如：隱形藥水、誘餌等）

2. 視覺效果
   - [ ] 改進角色外觀（使用精靈圖）
   - [ ] 添加動畫效果
   - [ ] 改進教室背景設計
   - [ ] 添加光影效果

3. 遊戲機制
   - [ ] 多關卡系統
   - [ ] 成就系統
   - [ ] 分數記錄系統
   - [ ] 難度選擇
   - [ ] 多個老師巡邏

4. 多功能擴展
   - [ ] 本地存檔功能
   - [ ] 排行榜系統
   - [ ] 教室地圖編輯器
   - [ ] 移動設備支援（觸控控制）

## 遊戲參數設定
- 玩家移動速度：5 pixel/frame
- 老師移動速度：2 pixel/frame
- 遊戲時間限制：300秒
- 警戒值上升速度：0.1/frame（當玩家在老師視線範圍內）
- 老師視線範圍：200 pixel
- 碰撞檢測範圍：40 pixel

## 檔案結構
- `index.html`: 遊戲主頁面
- `style.css`: 遊戲樣式
- `game.js`: 遊戲邏輯
  - `Game` 類：主要遊戲類
    - 初始化遊戲
    - 處理玩家輸入
    - 更新遊戲狀態
    - 處理碰撞檢測
    - 管理遊戲 UI

## 控制方式
- ↑：向上移動
- ↓：向下移動
- ←：向左移動
- →：向右移動

## 遊戲勝利條件
1. 在時間結束前到達教室門口
2. 警戒值保持在 100% 以下
3. 避開老師的直接接觸

## 遊戲失敗條件
1. 被老師抓到（直接接觸）
2. 警戒值達到 100%
3. 時間結束前未能到達門口

## 注意事項
1. 此專案目前為純前端實現，無需後端服務
2. 所有外部依賴使用 CDN 版本，確保可直接部署到 GitHub Pages
3. 遊戲設計以電腦用戶為主，尚未完全支援移動設備

## 未來發展方向
1. 改進遊戲美術風格
2. 優化老師 AI 行為
3. 添加聲音效果
4. 實現移動設備支援
5. 可能添加後端服務以支援排行榜等功能

## 貢獻指南
1. 確保所有新功能都遵循現有的代碼風格
2. 保持外部依賴最小化，優先使用原生實現
3. 新功能開發請先在此文檔中註明
4. 優先處理已標記的待開發功能

_最後更新: 2025-06-06_
